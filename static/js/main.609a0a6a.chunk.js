(this["webpackJsonpto-do-list-react-app"]=this["webpackJsonpto-do-list-react-app"]||[]).push([[0],{102:function(e,t,n){e.exports=n(134)},107:function(e,t,n){},129:function(e,t,n){},132:function(e,t,n){},133:function(e,t,n){},134:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(8),l=n.n(c),o=(n(107),n(30)),i=n(41),s=n.n(i),u=n(10),d=n(181),f=n(195),m=n(88),p=n(72),E=n.n(p),h=n(186),b=n(189),k=n(185),v=n(187),g=n(188),w=n(198),y=n(183),O=n(200),T=n(48),j=n(179),C=n(3),A=n(76),S=n.n(A),I=n(77),x=n.n(I),N=n(78),R=n.n(N),D=n(176),V=n(12),M=Object(D.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(V.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"},titleIcons:{display:"flex"}}})),L=function(e){var t=e.selected,n=e.setSelected,a=e.batchRemoveTasks,c=e.batchCompleteTasks,l=e.removeTask,o=e.completeTask,i=M(),s=t.filter((function(e){return null!==e.id})).length,u=function(e){return e.filter((function(e){return null!==e.id}))};return r.a.createElement(j.a,{className:Object(C.a)(i.root,Object(T.a)({},i.highlight,s>0))},s>0?r.a.createElement(d.a,{className:i.title,color:"inherit",variant:"subtitle1"},s," selected"):r.a.createElement(d.a,{className:i.title,variant:"h6",id:"tableTitle"},"Name Of Goal"),s>0?r.a.createElement("div",{className:i.titleIcons},r.a.createElement(O.a,{title:"Done"},r.a.createElement(y.a,{"aria-label":"done",onClick:function(){var e=u(t);1===s?o(e[0]):c(t),n([])}},r.a.createElement(S.a,null))),r.a.createElement(O.a,{title:"Delete"},r.a.createElement(y.a,{"aria-label":"delete",onClick:function(){var e=u(t);1===s?l(e[0]):a(e),n([])}},r.a.createElement(x.a,null)))):r.a.createElement(O.a,{title:"Filter list"},r.a.createElement(y.a,{"aria-label":"filter list"},r.a.createElement(R.a,null))))},W=n(80),H=n.n(W),U=n(79),Y=n(196),B=function(e){var t=e.editTask,n=e.currentTask,c=e.toggleSelectedRow,l=Object(a.useState)(n),o=Object(u.a)(l,2),i=o[0],s=o[1];return r.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),i){var a=Object(U.a)({},n,{name:i});t(a),s(""),c()}},noValidate:!0,autoComplete:"off"},r.a.createElement(Y.a,{label:"Edit Task",type:"text",defaultValue:i.name,placeholder:"Add a new task",onChange:function(e){return s(e.target.value)}}))},J=function(e){var t=e.task,n=e.editTask,a=e.isSelected,c=e.isEditable,l=e.isInactive,o=e.toggleSelectedRow;return a&&c?r.a.createElement(k.a,{component:"th",scope:"row"},r.a.createElement(B,{editTask:n,currentTask:t,toggleSelectedRow:o})):r.a.createElement(k.a,{component:"th",scope:"row"},l?r.a.createElement("strike",null,t.name):t.name)},F={ACTIVE:"ACTIVE",INACTIVE:"INACTIVE"},P=(n(129),function(e){var t=e.tasks,n=e.completeTask,c=e.removeTask,l=e.editTask,i=e.batchRemoveTasks,s=e.batchCompleteTasks,d=Object(a.useState)([{id:null,index:null}]),f=Object(u.a)(d,2),m=f[0],p=f[1],E=Object(a.useState)([{id:null,index:null,editability:null}]),T=Object(u.a)(E,2),j=T[0],C=T[1],A=function(e){var t=I(m).filter((function(t){return t.id===e.id}));return null!==t&&void 0!==typeof t&&0!==t.length},S=function(e){var t=I(j).filter((function(t){return t.id===e.id&&t.editability}));return null!==t&&void 0!==typeof t&&0!==t.length},I=function(e){return e.filter((function(e){return null!==e.id}))},x=function(e){var t=I(j),n=Object(o.a)(t);S(e)?n.splice(n.indexOf(j.find((function(t){return t.id===e.id}))),1):n.push({id:e.id,index:e.index,editability:!0}),C(n)},N=function(e){var t=I(m),n=Object(o.a)(t);A(e)?(n.splice(n.indexOf(m.find((function(t){return t.id===e.id}))),1),S(e)&&x(e)):n.push(e),p(n)};return r.a.createElement("div",null,r.a.createElement(L,{selected:m,setSelected:p,removeTask:c,completeTask:n,batchRemoveTasks:i,batchCompleteTasks:s}),r.a.createElement(h.a,{"aria-label":"task table"},r.a.createElement(v.a,null,r.a.createElement(g.a,null,r.a.createElement(k.a,null,"Task Name"),r.a.createElement(k.a,null),r.a.createElement(k.a,null))),r.a.createElement(b.a,null,t.map((function(e,t){var n={id:e.id,index:t},a=A(n),c=S(n),o=e.status===F.INACTIVE,i=function(e,t,n){return e||t||n}(a,c,o);return r.a.createElement(g.a,{key:t,hover:!0,selected:i,className:"table-row"},r.a.createElement(J,{task:e,editTask:l,isSelected:a,isEditable:c,isInactive:o,toggleSelectedRow:function(){return N(n)}}),a?r.a.createElement(k.a,{padding:"checkbox",scope:"row",onClick:function(){return x(n)}},r.a.createElement(O.a,{title:"Edit"},r.a.createElement(y.a,{"aria-label":"edit"},r.a.createElement(H.a,null)))):r.a.createElement(k.a,{padding:"checkbox",scope:"row"}),r.a.createElement(k.a,{padding:"checkbox",scope:"row",onClick:function(){return N(n)}},r.a.createElement(w.a,{checked:a})))})))))}),_=n(81),G=n.n(_),q=function(e){var t=e.addTask,n=Object(a.useState)(""),c=Object(u.a)(n,2),l=c[0],o=c[1];return r.a.createElement("create-task-form-styling",null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),l&&(t(l),o(""))},noValidate:!0,autoComplete:"off"},r.a.createElement("create-task-container-left",null,r.a.createElement(Y.a,{label:"Task",type:"text",value:l,placeholder:"Add a new task",onChange:function(e){return o(e.target.value)}})),r.a.createElement("create-task-container-right",null,r.a.createElement(O.a,{title:"save"},r.a.createElement(y.a,{"aria-label":"save",type:"submit"},r.a.createElement(G.a,null))))))},z=function(e){var t=e.allTasks,n=e.syncTask,a=t.filter((function(e){return"id"in e?null:e}));return r.a.createElement("button",{onClick:function(){return n(a)}},"Sync To Database")},$={VERY_EASY:"VERY_EASY",EASY:"EASY",NORMAL:"NORMAL",HARD:"HARD",VERY_HARD:"VERY_HARD"},K={LOW:"LOW",MEDIUM:"MEDIUM",HIGH:"HIGH"},Q=n(193),X=n(201),Z=n(84),ee=n.n(Z),te=n(85),ne=n.n(te),ae=n(136),re=n(199),ce=n(190),le=n(191),oe=n(184),ie=n(54),se=n.n(ie),ue=n(192),de=n(83),fe=n.n(de),me=new(n(82).a)("ToDoDb");me.version(1).stores({tasks:"++id",preferences:"++id"});var pe=me,Ee=function(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),n=t[0],r=t[1],c=function(e){if(0===e){pe.preferences.put({username:"loganconnor44",promptUserForInstallation:!0})}};return Object(a.useEffect)((function(){pe.preferences.count().then(c);var e=function(e){e.preventDefault(),r(e)};return window.addEventListener("beforeinstallprompt",e),function(){window.removeEventListener("beforeinstallprompt",e)}}),[]),[n,function(){return n?n.prompt():Promise.reject(new Error('Tried installing before browser sent "beforeinstallprompt" event'))}]},he=function(e){var t=e.isOpen,n=e.toggleDrawer,a=Ee(),c=Object(u.a)(a,2),l=c[0],o=c[1];return r.a.createElement(re.a,{open:t,onClose:n},r.a.createElement("div",null,r.a.createElement(oe.a,null,r.a.createElement(ce.a,null,r.a.createElement(le.a,null,r.a.createElement(fe.a,null)))),r.a.createElement(ue.a,null),r.a.createElement(oe.a,null,function(){return!1!==l&&l}&&r.a.createElement(ce.a,null,r.a.createElement(le.a,{onClick:o},r.a.createElement(se.a,null))))))},be=(n(132),function(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)(!1),o=Object(u.a)(l,2),i=o[0],s=o[1],f=function(e){("keydown"!==e.type||"Tab"!==e.key&&"Shift"!==e.key)&&c(!n)},m=function(){s(!i)};return r.a.createElement(Q.a,{style:{position:"sticky"}},r.a.createElement(j.a,null,r.a.createElement("container-left",null,r.a.createElement("hamburger-styling",null,r.a.createElement(y.a,{color:"inherit","aria-label":"open drawer",onClick:f},r.a.createElement(ee.a,null)),r.a.createElement(he,{isOpen:n,toggleDrawer:f})),r.a.createElement("title-styling",null,r.a.createElement(d.a,{variant:"h6",noWrap:!0},"PWA To Do App"))),r.a.createElement("container-right",null,!1===i?r.a.createElement("search-icon-styling",null,r.a.createElement("div",{className:"MuiButtonBase-root MuiIconButton-root MuiIconButton-colorInherit"},r.a.createElement(ne.a,{onClick:m}))):r.a.createElement(ae.a,{onClickAway:m},r.a.createElement("search-input-styling",null,r.a.createElement(X.a,{autoFocus:!0,placeholder:"Search\u2026",inputProps:{"aria-label":"search"},className:"rootInput"}))))))}),ke=n(194),ve=n(137),ge=n(86),we=n.n(ge),ye=n(87),Oe=n.n(ye),Te=function(){var e=Ee(),t=Object(u.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)(!1),o=Object(u.a)(l,2),i=o[0],s=o[1],d=Object(a.useState)(!1),f=Object(u.a)(d,2),m=f[0],p=f[1],E=function(){return s(!1)},h=function(e){e.preventDefault(),pe.preferences.toArray().then((function(e){pe.preferences.update(e[0].id,{promptUserForInstallation:!1})}))};pe.preferences.toArray().then((function(e){0!==e.length&&p(e[0].promptUserForInstallation)})),Object(a.useEffect)((function(){!1!==n&&n&&m&&s(!0)}),[n,m]);return i&&r.a.createElement(ke.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:i,autoHideDuration:3e3},r.a.createElement(ve.a,{message:r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(we.a,{style:{marginRight:4}}),"Click here to download this app."),style:{backgroundColor:"#43a047"},action:r.a.createElement("div",null,r.a.createElement(y.a,{key:"download-and-dismiss","aria-label":"download-and-dismiss",onClick:function(){E(),c()}},r.a.createElement(se.a,null)),r.a.createElement(y.a,{key:"close","aria-label":"close",onClick:function(e){E(),h(e)}},r.a.createElement(Oe.a,null)))}))},je=(n(133),function(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)(!1),i=Object(u.a)(l,2),p=i[0],h=i[1],b=Object(a.useState)([]),k=Object(u.a)(b,2),v=k[0],g=k[1],w=Object(a.useState)(0),y=Object(u.a)(w,2),O=y[0],T=y[1];Object(a.useEffect)((function(){T(v.filter((function(e){return e.status===F.ACTIVE})).length)}),[v]),Object(a.useEffect)((function(){s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:h(!0);try{pe.tasks.toArray().then((function(e){return g(e)}))}catch(t){c(!0)}h(!1);case 3:case"end":return e.stop()}}))}),[]);var j=function(e){var t=Object(o.a)(v);t.forEach((function(t){e.id===t.id&&(t.name=e.name)})),g(t)},C=function(e){var t=Object(o.a)(v);return e.forEach((function(e){t[e.index].status===F.INACTIVE?t[e.index].status=F.ACTIVE:t[e.index].status===F.ACTIVE&&(t[e.index].status=F.INACTIVE)})),g(t),t};return r.a.createElement("app-root-styling",null,r.a.createElement(Te,null),r.a.createElement("div",null,r.a.createElement(be,null)),r.a.createElement("app-content-styling",null,r.a.createElement(f.a,{container:!0,spacing:3,alignItems:"center",justify:"center"},r.a.createElement(f.a,{item:!0,xs:10},r.a.createElement("grid-content-styling",null,r.a.createElement(m.a,{style:{padding:"16px"}},r.a.createElement(d.a,{variant:"h6",gutterBottom:!0},O," Active Tasks"),n&&r.a.createElement("div",null,"Something went wrong ..."),!p&&v?r.a.createElement(P,{tasks:v,completeTask:function(e){var t=C([e]);pe.tasks.update(e.id,{status:t[e.index].status})},removeTask:function(e){var t=Object(o.a)(v);t.splice(e.index,1),g(t),console.log("the selected task id is: ".concat(e.id)),pe.tasks.where("id").equals(e.id).delete()},editTask:function(e){j(e),pe.tasks.update(e.id,{name:e.name})},batchRemoveTasks:function(e){var t=e.map((function(e){return e.id}));pe.transaction("rw",pe.tasks,(function(){return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:pe.tasks.bulkDelete(t),pe.tasks.toArray().then((function(e){return g(e)}));case 2:case"end":return e.stop()}}))})).then((function(){console.info("The selected tasks, ".concat(JSON.stringify(e),", were saved to the browser db."))})).catch((function(t){console.debug("There was an error when removing the selected tasks, ".concat(JSON.stringify(e),", from the browser db.")),console.error(t.stack)}))},batchCompleteTasks:function(e){var t=C(e);pe.transaction("rw",pe.tasks,(function(){return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:e.forEach((function(e){pe.tasks.update(e.id,{status:t[e.index].status})})),pe.tasks.toArray().then((function(e){return g(e)}));case 2:case"end":return n.stop()}}))})).then((function(){console.info("The selected tasks, ".concat(JSON.stringify(e),", were set as complete in the browser db."))})).catch((function(t){console.debug("There was an error when updating the selected tasks, ".concat(JSON.stringify(e),", to the browser db.")),console.error(t.stack)}))}}):r.a.createElement("div",null,"Loading ..."),r.a.createElement("div",{className:"create-task"},r.a.createElement(q,{addTask:function(e){var t={name:e,status:F.ACTIVE,created:Date.now(),deadline:null,description:null,diffculty:$.NORMAL,importance:K.MEDIUM,lastModified:null,owner:"Logan Connor"},n=[].concat(Object(o.a)(v),[t]);g(n),pe.tasks.put(t)}})))),r.a.createElement("div",null,r.a.createElement(z,{allTasks:v,syncTask:function(e){console.log(e);!function(){var t;s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:h(!0),t=0;case 2:if(!(t<e.length)){n.next=9;break}return n.next=5,s.a.awrap(E.a.post("http://localhost:8080/to-do/goal",e[t]).then((function(e){console.log(e)})).catch((function(e){console.log(e)})));case 5:n.sent;case 6:t++,n.next=2;break;case 9:h(!1);case 10:case"end":return n.stop()}}))}()}}))))))}),Ce=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ae(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}l.a.render(r.a.createElement(je,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/to-do-list-react-app",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/to-do-list-react-app","/service-worker.js");Ce?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ae(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Ae(t,e)}))}}()}},[[102,1,2]]]);
//# sourceMappingURL=main.609a0a6a.chunk.js.map